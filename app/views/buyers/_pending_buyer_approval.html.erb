<%= form_tag update_pending_buyer_approval_buyer_path do %>
<table class="table table-striped">
  <thead class="thead-dark">
    <tr>
      <th scope="col" style="width: 5%">Select</th>
      <th scope="col" style="width: 10%">Airway Bill No</th>
      <th scope="col" style="width: 10%">Delivered On</th>
      <th scope="col" style="width: 10%">Description</th>
      <th scope="col" style="width: 10%">Sample Type</th>
      <th scope="col" style="width: 10%">No of items</th>
      <th scope="col" style="width: 20%">Vendor Comments</th>
      <th scope="col" style="width: 30%">Remarks</th>
    </tr>
  </thead>
  <tbody>
    <% if @items.present? %>
      <% @items.includes(:courier, :sample_type).each do |item| %>
        <tr>
          <td><%= check_box_tag "items[id][#{item.id}", '', false, class: 'checkbox'%></td>
          <td><%= item.courier.airway_bill_number %></td>
          <td><%= delivery_date_display(item.courier)%></td>
          <td><%= item.description%></td>
          <td><%= item.sample_type_name %></td>
          <td><%= item.number_of_samples %></td>
          <td><%= item.buyer_comments %></td>
          <td><%= text_field_tag "items[remarks][#{item.id}]", '', style: 'width: 100%'%></td>
        </tr>
      <% end %>
    <% else %>
      <tr>
        <td colspan="8" class="text-center">No pending comments</td>
      </tr>
    <% end %>
  </tbody>
</table>
<%= hidden_field_tag 'buyer_id', @buyer.id%>
<div id="submit_div" style="display: none;">
  <%= submit_tag 'Approve', id: 'submit', class: 'btn btn-success'%>
</div>
<% end %>
<script type="text/javascript">
  $('.checkbox').click(function(){
    if ($("input:checkbox:checked").length > 0)
    {
      $('#submit_div').show();
    }
    else
    {
      $('#submit_div').hide();
    }
  })
</script>